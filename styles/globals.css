@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme configuration */
:root {
	--background: 255 255 255;
	--foreground: 0 0 0;
}

.dark {
	--background: 0 0 0;
	--foreground: 255 255 255;
}

/* Limit transitions to elements that need them to avoid heavy repaints on mobile */
:root,
body,
.site-navbar,
.theme-transition {
	transition-property: background-color, border-color, color;
	transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
	transition-duration: 200ms;
}

/* Degradado radial */
/* Lightweight radial accent for desktops; removed heavy transparency and large height for mobile perf */
.radial-gradient {
	position: absolute;
	top: -30%;
	left: 50%;
	transform: translateX(-50%);
	width: 120%;
	height: 60%;
	background: radial-gradient(ellipse at center,
			rgba(155, 39, 176, 0.28) 0%,
			rgba(123, 31, 162, 0.18) 50%,
			rgba(59, 7, 109, 0) 100%);
	pointer-events: none;
	z-index: 0;
}

/* Hide heavy accent on small screens */
@media (max-width: 640px) {
	.radial-gradient {
		display: none;
	}
}

/* Navbar isolation to avoid repaints affecting the whole page */
.site-navbar {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	z-index: 1000;
	background: rgba(var(--background), 0.95);
	backdrop-filter: none;
	/* avoid expensive filters on mobile */
	/* keep simple to avoid rasterization artifacts on mobile */
	transform: none;
	will-change: auto;
}

/* Apply global fixes to avoid compositing artifacts on mobile scroll */
html,
body,
#__next {
	background-color: rgb(var(--background));
}

html,
body {
	overscroll-behavior: contain;
}

@media (max-width: 640px) {

	/* Disable heavy animated/background layers on mobile permanently */
	.radial-gradient,
	.blur-3xl,
	.blur-xl,
	.blur-lg,
	.animate-pulse,
	.animate-bounce {
		display: none !important;
		animation: none !important;
		filter: none !important;
	}
}

@font-face {
	font-family: 'Coolvetica';
	src: url('../public/fonts/coolvetica/coolvetica_rg.otf') format('opentype');
	font-weight: normal;
}

.font {
	font-family: 'Coolvetica', sans-serif;
}
